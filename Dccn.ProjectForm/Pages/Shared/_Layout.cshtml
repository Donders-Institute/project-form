@using Dccn.ProjectForm.Authentication

@inject ISignInManager SignInManager

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <environment include="Development">
        @* <link rel="stylesheet" href="~/lib/jquery.inputmask/css/inputmask.css"> *@
        <link rel="stylesheet" href="~/lib/twitter-bootstrap/css/bootstrap.css">
        <link rel="stylesheet" href="~/css/site.css" asp-append-version="true">

        <script defer src="~/lib/fontawesome/js/all.js"></script>
    </environment>
    <environment exclude="Development">
        @* <link rel="stylesheet" href="~/lib/jquery.inputmask/css/inputmask.min.css"> *@
        <link rel="stylesheet" href="~/lib/twitter-bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="~/css/site.min.css">

        <script defer src="~/lib/fontawesome/js/all.min.js"></script>
    </environment>

    <title>@ViewData["Title"] - Project Proposal Form</title>
</head>
<body>

<div id="content" class="invisible">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <div class="container">
           <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="https://portal.dccn.nl">DCCN</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" asp-page="/Index">Project Proposal</a></a>
                </li>
            </ul>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="navbar-toggler-icon"></span>
            </button>

            @if (SignInManager.IsSignedIn(User))
            {
                <div class="navbar-collapse collapse">
                    <form asp-page="/Account/Login" asp-page-handler="Logout" class="form-inline ml-auto" method="post">
                        <span class="navbar-text mr-3">@SignInManager.UserManager.GetUserName(User)</span>
                        <button class="btn btn-outline-secondary" type="submit">Logout</button>
                    </form>
                </div>
            }
        </div>
    </nav>

    <div id="render-body" class="container">
        @RenderBody()
    </div>
</div>

<div id="ajax-error-modal" class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="ajax-error-title" class="modal-title"></h5>
            </div>
            <div class="modal-body">
                <p id="ajax-error-message"></p>
                <p id="ajax-error-status" class="text-muted small text-right mb-0"></p>
            </div>
            <div class="modal-footer">
                <button id="ajax-error-reload" class="btn btn-primary" type="button">Reload</button>
            </div>
        </div>
    </div>
</div>

<noscript>
    This site requires JavaScript to function properly.
</noscript>

<script id="validation-errors" type="application/json">@Json.Serialize(new SerializableError(Model.ModelState))</script>

<environment include="Development">
    <script src="~/lib/jquery/jquery.js"></script>
    <script src="~/lib/jquery-validate/jquery.validate.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>
    @* <script src="~/lib/jquery.inputmask/jquery.inputmask.bundle.js"></script> *@
    <script src="~/lib/moment.js/moment.js"></script>
    <script src="~/lib/jsrender/jsrender.js"></script>
    <script src="~/lib/popper.js/umd/popper.js"></script>
    <script src="~/lib/twitter-bootstrap/js/bootstrap.js"></script>
    <script src="~/lib/autocomplete.js/autocomplete.jquery.js"></script>
</environment>
<environment exclude="Development">
    <script src="~/lib/jquery/jquery.min.js"></script>
    <script src="~/lib/jquery-validate/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    @* <script src="~/lib/jquery.inputmask/jquery.inputmask.bundle.min.js"></script> *@
    <script src="~/lib/moment.js/moment.min.js"></script>
    <script src="~/lib/jsrender/jsrender.min.js"></script>
    <script src="~/lib/popper.js/umd/popper.min.js"></script>
    <script src="~/lib/twitter-bootstrap/js/bootstrap.min.js"></script>
    <script src="~/lib/autocomplete.js/autocomplete.jquery.min.js"></script>
</environment>

@RenderSection("Scripts", false)

<environment include="Development">
    <script src="~/js/site.js" asp-append-version="true"></script>
</environment>
<environment exclude="Development">
    <script src="~/js/site.min.js"></script>
</environment>

</body>
</html>